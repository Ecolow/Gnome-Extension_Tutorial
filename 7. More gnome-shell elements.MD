# More gnome-shell elements
## UI files in /usr/share/gnome-shell/js/ui (imports.ui)
### accessDialog.js

### altTab.js: the popup that appears when you press Alt+Tab.
- AltTabPopup: the popup that shows all the window previous when you press Alt+Tab.
- AppIcon: class defining the icon for an app (used in the alt tab popup)
- SwitcherList: Helper function defining a list of items to switch between when alt-tab is pressed (used for switching between apps and between windows of a particular app in the AltTab popup).
- AppSwitcher: This handles the display of icons for each app in the AltTab popup. Generates an AppIcon per app.
- ThumbnailList: This is what appears when you hover over an app with multiple windows in the AltTab popup (and it shows you a bunch of window thumbnails). It handles the list of thumbnails for a given app.
### animation.js

### appDisplay.js: to do with the applications tab in the overview - searching for apps and displaying their icons.
- AlphabeticalView: Based off IconGrid.IconGrid - a grid of application icons (AppWellIcon) that displays its results alphabetically (the grid of app entries the Applications tab).
- ViewByCategories: Handles the showing of applications by category (see the Applications tab).
- AllAppDisplay: Handles showing every app in all categories.
- AppSearchProvider: Handles finding apps matching search term(s).
- SettingsSearchProvider: Handles finding entries in the gnome control centre matching search term(s). (The 'SETTINGS' set of results when you do a search - searches through subcategories of 'System Settings').
- AppIcon: An icon for an app (there's a similar class AltTab.AppIcon).
- AppWellIcon: Extends AppIcon. One per app - the icon + label (giving the app name) + drag and drop support + right-click menu ("New Window", etc) that appears in the applications tab/application search results.
- AppIconMenu: The right-click menu of an AppWellIcon containing the relevant actions (New Window, Remove from Favorites, Add to Favorites, ...)

### appFavorites.js: manages app favourites in the dash (left hand sidebar in the overview).
- AppFavorites: handles your list of app favourites - updates the list when you choose 'add to favourite', provides API for you to add/remove from your favourites.
### audioDeviceSelection.js
### background.js
### backgroundMenu.js
### boxpointer.js: whenever you open a popup menu there's a little arrow connecting the button to the menu. That's what this is.
- BoxPointer: The triangle arrow connecting a popupmenu to its source (you can configure what side of the menu the pointer appears).

### calendar.js: stuff to do with the calendar in the clock dropdown menu.
- There are a whole bunch of functions in here to do with changing between date formats, getting day-of-the-week abbreviations, etc.
- CalendarEvent: an event in the calendar.
- EmptyEventSource: "Interface for appointments/events".
- CalendarServer: sets up a Dbus server for the calendar.
- DBusEventSource: A calendar event on the dbus. Interacts with CalendarServer.
- Calendar: main Calendar class, handles the UI part for the calendar (month navigation, date, graphical calendar) as well as monitoring events.
- EventsList: List of events. The UI part to the right of the calendar with the list of upcoming events.

See also dateMenu.js which ties all these elements together.

### checkBox.js (GNOME 3.4 only): A checkbox (in < GNOME3.4 you just have the PopupMenu.Switch). As far as I can tell there's one in the Keyring Prompt and that's it.
- CheckBoxContainer: checkbox container class (helper class), with a checkbox and label.
- CheckBox: checkbox itself. If you want a checkbox, use this, not the container class.

### ctrlAltTab.js: Handles the Accessibility switcher which lets you select UI elements (top panel, dash, ...) so that you can navigate around them with the keyboard (I never knew this existed!). According to here it's not yet fully functional.
- CtrlAltTabManager: handles control alt tab behaviour - showing the popup, setting up the stage to be ready for keyboard navigation, ..
- CtrlAltTabPopup: control alt tab popup itself (UI)
- CtrlAltTabSwitcher: inherits from AltTab.SwitcherList: UI element holding all the options you can alt-tab between.
### dash.js: Handles the dash (left-hand sidebar in the overview showing the application favourites).
- DashItemContainer: Helper class - each item in the dash is one of these.
- RemoveFavoriteIcon: Inherits DashItemContainer. It's the little rubbish bin that appears on the dash when you drag an icon (that lets you remove from your favourite).
- DragPlaceholderItem: When you drag your favourites around to re-order them, you see a little bar showing you where the item will be dropped. That's what this is.
- Dash: the master Dash class, making use of all the other classes.
### dateMenu.js: The graphical calendar widget in the calendar menu (the grid of squares where you click on the date to see events for that date).
- DateMenuButton: Subclasses [PanelMenu.Button] to provide the date menu in the middle of the top panel. It's made up of the date/time label in the panel, as well as its PopupMenu containing the Calendar and the EventsList.

### dnd.js: Handles drag and drop.
This allows you to add drag-and-drop functionality to your own classes. You use the following functions defined in the file:

- addDragMonitor: you define an object defining the drag behaviour you want, and use addDragMonitor to add it. A drag monitor is an object with the key dragMotion which is a callback for what happens when a drag motion event occurs. Unsure of further details, but see (e.g) dash.js and workspacesView.js for examples.
- removeDragMonitor: remove your drag behaviour that you added with addDragMonitor.
- makeDraggable: this is what makes an item draggable. You call it on an actor and get a draggable actor back out. You have to define some functions in actor._delegate's class in order for this to work: handleDragOver, acceptDrop, getDragActor, getDragActorSource, handleDragOver. I don't know the details or if all of these are mandatory, but will write a blog post on this if I ever work it out.
Classes:

- _Draggable: Class defining a basic draggable item, defining how the dragging happens (starting it, animating it, what to do if the user cancels, ...). You do not use this directly. Instead, use makeDraggable to make an actor draggable.

### edgeDragAction.js

### endSessionDialog.js: the dialog that appears when you log out/shut down/etc.
- ListItem: A list item in the end session dialog - when it gives a list of applications impeding shutdown, each gets its own ListItem.
- EndSessionDialog: The end session dialog. Handles the UI part (presentation of the dialog). In terms of actually logging out/shutting down etc, the dialog simply sends messages to the GNOME SessionManager Dbus to request a shutdown rather than doing the shutdown itself.
### environment.js: sets up the GJS environment for the rest of the code.
This module sets up the GJS environment for the rest of the JS files:

- adds up the global object (with global.display, global.screen, ...) to the environment
- adds the add function to St.BoxLayout and St.Table (???)
- adds/improves the toString() function (e.g. Clutter.Actors will state their delegate if this is set, e.g.: function MyLabelClass() { this.actor = new Clutter.Text({text: 'asdf'}); this.actor._delegate = this; }
- adds the method String.format (a bit like sprintf; allows us to do (e.g.) 'Hello, %s'.format('world')).
- initialises various things the shell needs to work.
### extensionDownloader.js
### extensionSystem.js: handles installing, enabling, and disabling extensions.
This is a collection of functions to do with installing, enabling and disabling extensions, and accessing their metadata. (Note - the extension UUID is something like extensionname@some.website.com).

In GNOME 3.2 you access particular extensions through the extensions and extensionMeta objects in imports.ui.extensionSystem (these are indexed by extension UUID). In GNOME 3.4, access extensions and their metadata using imports.misc.extensionUtils.extensions instead (use imports.misc.extensionUtils.getCurrentExtension() from within an extension to get the object for that extension).

There is also an array enabledExtensions containing the UUID of enabled extensions. In GNOME 3.4 there's additionally an array 'extensionOrder' giving the order in which extensions were loaded.

Some of the functions:

- installExtensionFromUUID: installs an extension by UUID by downloading it from extensions.gnome.org.
- uninstallExtensionFromUUID: installs an extension by UUID.
- disableExtension: disables an extension by UUID.
- enableExtension: enables an extension by UUID.
The other functions are to do with the Shell looking for all the extensions you have installed and enabling them.

Just one class provided here:

- InstallExtensionDialog: The dialog that pops up when you choose to install an extension (e.g. from e.g.o) confirming that you want to install the extension.
### focusCaretTracker.js
### grabHelper.js
### ibusCandidatePopup.js
### iconGrid.js: classes for layout out icons in a grid (e.g. the Overview search results)
- BaseIcon: A basic icon class consisting of an icon and a label.
- IconGrid: A widget displaying its children in a grid (allowing you to set a row limit or column limit, and actors that don't fit in will not be painted).
### keyboard.js: on-screen keyboard class.
- Key: A key on the keyboard.
- Keyboard: The Keyboard class (implements DBus class /org/gnome/Caribou/Keyboard?)
- KeyboardSource: Inherits from MessageTray.Source, shows the keyboard in the message tray.
### layout.js: stuff to do with laying out actors on the stage? (panel, message tray, hot corners, ...)
-  LayoutManager: Manages layout of items on the stage (message tray, top panel, hot corners) and updates these when monitors change. I think you might have to call LayoutManager.addChrome(actor) if you want to add an actor to the stage and want it to be able to receive events.
- HotCorner: Hot corners (e.g. the top-left hot corner lets you switch to the overview).
- Chrome: The UI that's visible in the non-overview mode that surrounds all the windows (panel, message tray, ..)
### legacyTray.js
### lightbox.js: Creates a dark translucent shade covering a UI element (e.g. when the end session modal dialog causes the rest of the screen to be shaded; this is the shade).
- Lightbox: A shade obscuring the specified container actor (for example the screen in the case of a modal dialog). The Flashspot subclasses this to do a white flash instead of a dark shade.

### lookingGlass.js: the looking glass (Alt+F2, 'r').
- AutoComplete (GNOME 3.4 only): Adds completion behaviour on Tab/double-Tab to the looking glass!! (Like the Terminal).
- Notebook: The Looking Glass consists of multiple 'tabs' (Evaluator; Windows; Errors; Memory; Extensions); the notebook is what holds them all. Defines the tab controls, ability to add/switch tab pages, and an area where the page content will appear.
- ObjLink: inherits from Link.Link - when you type things into the Looking Glass console the results are clickable. This class handles those links.
- Result: When you type things into the Looking Glass the results get printed like so:

      r(result_number) = result
That is what this class is (where result is an ObjLink`).

- WindowList: The Windows tab of the Looking Glass.
- ObjInspector: When you click on a result in the Looking Glass you get a window that shows you more information about that result. For example, clicking on an object will show (some of) its properties. This is that class.
- Inspector: There's a 'picker' icon in the Evaluator tab of the Looking Glass. When you select it, you can 'pick' an object from the stage to examine further. As you move your pointer over particular objects, they get a red border drawn around them. The Inspector class handles adding and removing these borders, and tracking which object your pointer is over (the actual function to add the borders is called addBorderPaintHook).
- ErrorLog: The 'Errors' tab in the Looking Glass.
- Memory: The 'Memory' tab in the Looking Glass.
- Extensions: The 'Extensions' tab in the looking glass.
- LookingGlass: Assembles the whole looking glass together. Also provides the 'Evaluator' tab and handles the actual evaluation of commands typed into the console.

### magnifier.js: Shell magnifier (for accessibility): the magnifier object itself (see Magnifier specification).
- Magnifier: Defines the shell magnifier.
- ZoomRegion: Defines a particular zoom region.
- Crosshairs: Defines the crosshairs of the magnifier.
### magnifierDBus.js: Shell magnifier (for accessibility): the Dbus interface.
- ShellMagnifier: DBus proxy (proxy? server?) representing the Shell Magnifier (org.gnome.Magnifier).
- ShellMagnifierZoomRegion: DBus proxy (??server?? I don't know about DBus) representing a zoom region (region being magnified).
### main.js: This is what defines most of the global object instances in GNOME shell and sets everything up - the top panel, overview, .... Also defines a bunch of convenience functions.
### messageList.js

### messageTray.js: the message tray (bottom of the screen showing notifications).
### modalDialog.js: defines the gnome-shell popup dialogs (logout/shutdown, authentication, ...).
----------------------------------------------------------------------------------------
### automountManager.js: handles the automagic detection of external media (USB sticks, ...).
- ConsoleKitManager: Connection to ConsoleKit DBus
- AutomountManager: Uses ConsoleKitManager to listen for drives being added, removed, connected, disconnected, ejected, etc and automounts the drive.
### autorunManager.js: handles the popup menu when you mount an external media offering you options to view photos, browse, play music, etc on the media.
- HotplugSniffer: Listens on the dbus for something...
- ContentTypeDiscoverer: Guesses what content is on a media (filesystem? photos? ...), uses HotplugSniffer to discover this.
- AutorunManager: Master class that handles monitoring when volumes are mounted/dismounted, uses the other classes in the file to determine what content is on the media and send a notification with the right options for that media on it (if it's a camera card offer to view photos, if it's music offer to play it, ...)
- AutorunResidentSource: Inherits from MessageTray.Source: handles the notification side of things. A resident source is one that stays in the messageTray permanently (i.e. the 'Removable Devices' item in the message tray when you have a removable device plugged in).
- AutorunResidentNotification: Inherits from MessageTray.Notification: handles the creation of the 'removable devices' notification showing a menu of removable devices with an eject button for each..
- AutorunTransientDispatcher: Determines a mounted volume's autorun settings for its transient notification.
- AutorunTransientSource: Inherits from MessageTray.Source: the notification source for the autorun notification that you get upon plugging in a device. It can be dismissed (unlike the AutorunResidentSource, which only dismisses when all the devices have been ejected).
- AutorunTransientNotification: Inherits from MessageTray.Notification: handles the creation of the transient notification you get upon plugging in a device. This is the notification that says 'View photos with Shotwell', 'Play music', 'Browse Files', etc.

### contactDisplay.js: Handles the display and searching of contacts in the Overview.
- Contact: A class representing a contact (wrapper around the Folks library) and also a UI element being what is displayed in the Overview when you search for contacts.
- ContactSearchProvider: Handles searching for contacts matching specified search term(s).

### docDisplay.js (GNOME 3.2 only): gives search results for 'recent items'. GNOME 3.4 doesn't have this.
- DocSearchProvider: Handles finding recent documents matching search term(s).

### flashspot.js (GNOME 3.4 only): When you press the printscreen key and get a screenshot, the screen has this white flash (like a camera flash). This is that... (this also happens in GNOME 3.2, but it looks like the screenshot code has changed between 3.2 and 3.4).
- Flashspot: extends LightBox. That white flash that you get (like a camera flash) when you press the printscreen button (..odd..)..

- Key: A key on the keyboard.
- Keyboard: The Keyboard class (implements DBus class /org/gnome/Caribou/Keyboard?)
- KeyboardSource: Inherits from MessageTray.Source, shows the keyboard in the message tray.
### keyringPrompt.js (GNOME 3.4 only): prompt for gnome-keyring.
- KeyringDialog: a ModalDialog that is a dialog for gnome-keyring.
---------

### networkAgent.js: wrapper around network authentication (listens on dbus for password requests and pops up the authentication dialog).
### notificationDaemon.js: listens for notifications via DBus and adds them to the message tray.
### overview.js: The overview (press the windows key).
### panel.js: Defines the top panel.
### panelMenu.js: Defines various helper functions for items in the panel (notably, the system status icon class, being a button in the top panel with a dropdown menu).
- placeDisplay.js: Handles searching for Places (Home, Network, mounted volumes, ...) in the overview.
- polkitAuthenticationAgent.js: Handles popping up a password dialog on receiving authentication requests (e.g. on updating software).
- popupMenu.js: Defines the popup menus and items that can go in them (for example the popup menu from the user menu).
- remoteSearch.js (GNOME 3.4 only): Handles remote search providers (search providers that operate through DBus, like Google and Wikipedia where searches go through the internet).
- runDialog.js: The run dialog/command prompt when you pres Alt+F2.
- scripting.js: A scripting module for gnome-shell devs to do performance/unit tests...(?)
- searchDisplay.js: Classes for displaying the results of a search in the overview.
- search.js: Abstract classes that handle searching and providing results (that are then displayed in the overview by searchDisplay.js classes). They are all implemented through other classes (e.g. appDisplay.js, contactDisplay.js, ...
- shellDBus.js: GNOME shell DBus implementation (interface name org.gnome.shell, path /org/gnome/Shell) - for installing/enabling/disabling/uninstalling extensions and requesting information from them, taking screenshots, and so on.
- shellEntry.js: Adds context menus to entry widgets with 'copy' and 'paste' and (if it's a password widget) 'show/hide text'. Examples: in the run dialog and authentication dialog.
- shellMountOperation.js: Wrappers around Shell.MountOperation that handle the ejecting of a device from the - autorunManager.AutorunResidentNotification. Provides a dialog letting you know if the device is busy/what processes are inhibiting unmounting and notifications if passwords are needed for the volume.
- statusIconDispatcher.js: Diverts some message-tray icons into standard status area icons (for example 'gnome-sound-control-applet' and 'gnome-volume-control-applet' will be removed from the message tray as they are handled by the 'volume' status icon).
- telepathyClient.js: handles chat through telepathy and setting up notifications etc for these.
- tweener.js: a module that wraps around imports.tweener.tweener adding extra goodness for gnome-shell (initialised in main.js).
- userMenu.js: defines the user menu (with your username, chat status, avatar, ...).
- viewSelector.js: The main part of the Overview - defining a notebook/tabs model. For example the 'Applications' and 'Windows' sections of the Overview are 'tabs' within the notebook.
- wanda.js (GNOME 3.4 only): Dispenses wisdom from Wanda the GNOME-panel fish from the overview if you type the magic phrase into the search box.
- windowAttentionHandler.js: Handles requests for attention from windows (e.g. when you start up and app and it takes a while to start, when the app is done loading you get a ' is ready' notification).
- windowManager.js: Extra bells and whistles for the window manager implemented on the JS side (mainly window animations).
- workspace.js: Classes handling the window previews you see in the 'Windows' tab of the Overview.
- workspacesView.js: Essentially the 'Windows' tab in the Overview - handles assembling the window previews (from workspace.js) and the - workspaces sidebar (workspaceThumbnail.js) into one 'tab' for the Overview.
- workspaceSwitcherPopup.js: The popup you get upon switching workspaces through the keybindings that shows you which workspace you're switching to.
- workspaceThumbnail.js: Defines the classes in the workspaces sidebar in the 'Windows' tab of the Overview - the little snapshots of each workspace allowing you to drag windows between them.
- xdndHandler.js: GNOME-shell handling of Xdnd: dragging and dropping things between an X window and a gnome-shell object. E.g. if you try to drag a file from Nautilus over the Overview button, panel.js uses xdndHandler to detect this and trigger the overview.
 status directory: this contains the files for all the standard status indicators in the status area.
- accessibility.js: the accessibility (a11y) indicator.
- bluetooth.js: the bluetooth indicator.
- keyboard.js: keyboard layout indicator (letting you switch between layouts).
- network.js: the network (wifi/wired) indicator.
- power.js: the power (battery life/power settings) indicator.
- volume.js: the volume/sound settings indicator.
